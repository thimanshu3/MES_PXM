<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Inbound PMS</title>
    <meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no' name='viewport' />
    <link rel="icon" href="/assets/img/icon.ico" type="image/x-icon" />

    <!-- CSS Files -->
    <link rel="stylesheet" href="/assets/css/bootstrap.css">
    <link rel="stylesheet" href="/assets/css/atlantis.min.css">

    <!-- CSS Just for demo purpose, don't include it in your project -->
    <link rel="stylesheet" href="/assets/css/demo.css">
    <link rel="stylesheet" href="/assets/css/kk_style.css">
    <link rel="stylesheet" href="/assets/css/iziToast.min.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <script src="/assets/js/plugin/webfont/webfont.min.js"></script>
    <script>
        WebFont.load({
            google: {
                "families": ["Lato:300,400,700,900"]
            },
            custom: {
                "families": ["Flaticon", "Font Awesome 5 Solid", "Font Awesome 5 Regular", "Font Awesome 5 Brands", "simple-line-icons"],
                urls: ['/assets/css/fonts.min.css']
            },
            active: function () {
                sessionStorage.fonts = true;
            }
        });
    </script>

    <style>
        #feedback {
            font-size: 1.4em;
        }

        .selectable .ui-selecting {
            background: #FECA40;
        }

        .selectable .ui-selected {
            background: #F39814;
            color: white;
        }

        .selectable {
            list-style-type: none;
            margin: 0;
            padding: 0;
            width: 100%;
        }

        .selectable li {
            margin: 3px;
            padding: 0.4em;
        }

        .current-active{
            border-left: 4px solid;
        }
    </style>


</head>

<body>
    <div class="wrapper">
        <%-include('../partials/config')%>

        <!-- header -->
        <%-include('../partials/header.ejs')%>
        <!-- header end -->

        <!-- Sidebar -->
        <%-include('../partials/sidebar.ejs')%>
        <!-- End Sidebar -->

        <div class="main-panel">
            <div class="content">
                <div class="page-inner ">
                    <div class="page-header">

                        <ul class="breadcrumbs">

                            <li class="nav-home">
                                <a href="/admin/dashboard">
                                    <i class="flaticon-home"></i>
                                </a>
                            </li>
                            <li class="separator">
                                <i class="flaticon-right-arrow"></i>
                            </li>
                            <li class="nav-item">
                                <a href="#">System</a>
                            </li>
                            <li class="separator">
                                <i class="flaticon-right-arrow"></i>
                            </li>
                            <li class="nav-item">
                                <a href="#">User Managment</a>
                            </li>
                            <li class="separator">
                                <i class="flaticon-right-arrow"></i>
                            </li>
                            <li class="nav-item">
                                <a href="#">Users</a>
                            </li>

                        </ul>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card kk_full_form">
                                <div class="card-header">

                                </div>
                                <div class="card-body kK_import_assis_wizard">



                                    <div class="row" >
                                        <div class="col-2 col-md-2" style="    border-right: 1px solid lightgrey;">
                                            <div class="nav flex-column nav-pills nav-secondary" id="v-pills-tab"
                                                role="tablist" aria-orientation="vertical">
                                                <a class="nav-link active show tick_enable" id="v-pills-1-tab" data-toggle="pill"
                                                    href="#upload-file" role="tab" aria-controls="upload-file"
                                                    aria-selected="true">1. Scan & Upload CSV File</a>
                                                <a class="nav-link tick_enable" id="v-pills-2-tab" data-toggle="pill"
                                                    href="#import-option" role="tab" aria-controls="import-option"
                                                    aria-selected="false">2. Import Options</a>
                                                <a class="nav-link" id="v-pills-3-tab" data-toggle="pill"
                                                    href="#field-mapping" role="tab" aria-controls="v-pills-3"
                                                    aria-selected="false">3. Field Mapping</a>
                                                
                                                <a class="nav-link" id="v-pills-5-tab" data-toggle="pill"
                                                    href="#save-step" role="tab" aria-controls="v-pills-5"
                                                    aria-selected="false">4. Save & Start Import</a>
                                            </div>
                                        </div>
                                        <div class="col-10 col-md-10">
                                            <div class="tab-content">
                                                <div class="tab-pane fade active show" id="upload-file" role="tabpanel"
                                                    aria-labelledby="upload-file">
                                                    <div>
                                                        <input type="hidden" name="step" value="1">
                                                   

                                                   

                                                    <div class="form-group d-block " style="    margin: auto;margin-top: 120px;">
                                                        <label class="form-label">Upload File</label>
                                                        <br>
                                                        <label for="et_pb_contact_brand_file_request_0"
                                                            class="et_pb_contact_form_label"></label>
                                                        <input type="file" name="file" id="et_pb_contact_brand_file_request_0"
                                                            class="file-upload">

                                                    </div>

                                                    <ul class="list-inline pull-right">
                                                        <li><button onclick="previewTheData()"
                                                                class="btn next-step btn-primary">Next</button></li>
                                                    </ul>
                                                </div>
                                                </div>
                                                <div class="tab-pane fade text-center" id="import-option" role="tabpanel"
                                                    aria-labelledby="import-option">
                                                <div class="form-group mt-5" style="width: 60%;">
                                                  <div class="row">
                                                        <div class="col-6 col-sm-4">
                                                            <label class="imagecheck mb-4">
                                                                <input name="imagecheck" type="radio" value="1" class="imagecheck-input">
                                                                <figure class="imagecheck-figure">
                                                                <img src="../../assets/img/add.svg" alt="title" class="imagecheck-image">
                                                                </figure>
                                                            </label>
                                                        </div>
                                                        <div class="col-6 col-sm-4">
                                                            <label class="imagecheck mb-4">
                                                                <input name="imagecheck" type="radio" value="2" class="imagecheck-input" checked="">
                                                                <figure class="imagecheck-figure">
                                                                    <img src="../../assets/img/update.svg" alt="title" class="imagecheck-image">
                                                                </figure>
                                                            </label>
                                                        </div>
                                                        <div class="col-6 col-sm-4">
                                                            <label class="imagecheck mb-4">
                                                                <input name="imagecheck" type="radio" value="3" class="imagecheck-input">
                                                                <figure class="imagecheck-figure">
                                                                    <img src="../../assets/img/addupdate.svg" alt="title" class="imagecheck-image">
                                                                </figure>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>

                                                    <ul class="list-inline pull-right">
                                                        <li><button type="button"
                                                                class="btn prev-step btn-primary">Previous</button></li>
                                                        <li><button id="importOptionBtn" type="button"
                                                                class="btn  next-step btn-primary">Next</button></li>
                                                    </ul>
                                                </div>
                                                <div class="tab-pane fade" id="field-mapping" role="tabpanel"
                                                    aria-labelledby="v-pills-3-tab">


                                                    <div class="row">
                                                        <div class="col-md-3">
                                                            <div class="kk_full_form kk_user_form">
                                                                <div class="card-header">
                                                                    <div class="d-flex align-items-center">
                                                                        <h4 class="card-title">Fields From Excel</h4>
                                                                    </div>
                                                                </div>
                                                                <div style="height:600px" class="card-body scroll-area-lg">
                                                                    <ul class="selectable scrollbar-container ps--active-y ps"
                                                                        id="excelFields">
                                                                        
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-5">

                                                            <div class="kk_full_form kk_user_form">
                                                                <div class="card-header">
                                                                    <div class="d-flex align-items-center">
                                                                        <h4 class="card-title">Preview</h4>

                                                                    </div>
                                                                </div>
                                                                <div class="card-body scroll-area-lg">
                                                                    <ul id="fieldLinkPreview"
                                                                        class="scrollbar-container ps--active-y ps" style="max-width: 100%;margin: 30px auto;">

                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class=" kk_full_form kk_attribute_set_card kk_newacc ">
                                                                <div class="card-header">

                                                                    <div class="d-flex align-items-center">
                                                                        <h4 class="card-title">System Fields</h4>

                                                                    </div>
                                                                </div>
                                                                <div class="card-body">

                                                                    <div class="accordion accordion-secondary">
                                                                        <div class="card">
                                                                            <div class="card-header" id="headingOne"
                                                                                data-toggle="collapse"
                                                                                data-target="#collapseOne"
                                                                                aria-expanded="true"
                                                                                aria-controls="collapseOne">
                                                                                <div class="span-mode"></div>
                                                                                <div class="span-title">
                                                                                    Item
                                                                                </div>

                                                                            </div>

                                                                            <div id="collapseOne" class="collapse"
                                                                                aria-labelledby="headingOne"
                                                                                data-parent="#accordion">
                                                                                <div class="card-body scroll-area-lg">
                                                                                    <ul id="system-fields"
                                                                                        class="selectable kK_accordian_list scrollbar-container ps--active-y ps">
                                                                                        
                                                                                        <% fields.sort((a , b) => {
                                                                                            if(a.label < b.label) return -1
                                                                                            return 1 
                                                                                        }).forEach(function(field) { %>
                                                                                        <li class="ui-widget-content mb-3 p-1 h-100"
                                                                                            id="<%=field.id %>" field-type="<%=field.inputType %>" , field-description="<%=field.description%>">
                                                                                            <%=field.label %>
                                                                                        </li>
                                                                                        <% }) %>
                                                                                    </ul>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                      
                                                                        <div class="card">
                                                                            <div
                                                                                class="card-header collapsed d-flex justify-content-between">
                                                                                <div class="span-mode"></div>
                                                                                <div class="span-title" id="headingTwo"
                                                                                    data-toggle="collapse"
                                                                                    data-target="#collapseVTwo"
                                                                                    aria-expanded="false"
                                                                                    aria-controls="collapseVTwo">
                                                                                    Item Vendors
                                                                                </div>
                                                                                <a id="addVendorBtn"
                                                                                    class="btn btn-light btn-sm p-1"><i
                                                                                        style="font-size:12px"
                                                                                        class="fa fa-plus"></i></a>

                                                                            </div>
                                                                            <div id="collapseVTwo" class="collapse"
                                                                                aria-labelledby="headingTwo"
                                                                                data-parent="#accordion">
                                                                                <div class="card-body">
                                                                                    <ul class="kK_accordian_list">
                                                                                        <li class="acc_collapse">
                                                                                            <div class="accordion accordion-secondary"
                                                                                                id="addVendor">
                                                                                                <div class="card">
                                                                                                    <div class="card-header d-flex justify-content-between"
                                                                                                        id="headingOne"
                                                                                                        data-toggle="collapse"
                                                                                                        data-target="#collapseOne.2v"
                                                                                                        aria-expanded="false"
                                                                                                        aria-controls="collapseOne">
                                                                                                        <div
                                                                                                            class="span-mode">
                                                                                                        </div>
                                                                                                        <div
                                                                                                            class="span-title">
                                                                                                            Item Vendor 1
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div id="collapseOne.2v"
                                                                                                        class="collapse"
                                                                                                        aria-labelledby="headingOne"
                                                                                                        data-parent="#accordion">
                                                                                                        <div
                                                                                                            class="card-body">
                                                                                                            <ul id="vendor-1" onclick="addAll(this)" name="vendor"
                                                                                                                class="ht_logic kK_accordian_list">
                                                                                                                <%if(vendor !== null){%>
                                                                                                                    <% JSON.parse(vendor[0].fields).forEach(v=>{ %>
                                                                                                                        <li field-type="" id="test1">
                                                                                                                            <%=v.name%>
                                                                                                                        </li>
                                                                                                                        <%})%>
                                                                                                                <%}%>
                                                                                                            
                                                                                                            </ul>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>


                                                                                            </div>



                                                                                        </li>

                                                                                    </ul>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>


                                                                </div>

                                                            </div>

                                                        </div>

                                                    </div>



                                                    <ul class="list-inline pull-right">
                                                        <li><button type="button"
                                                                class="btn  prev-step btn-primary">Previous</button>
                                                        </li>
                                                        <li><button id="fieldMappinggetObjBtn" type="button"
                                                                class="btn  next-step btn-primary">Next</button></li>
                                                    </ul>
                                                </div>

                                                
                                                <div class="tab-pane fade" id="save-step" role="tabpanel"
                                                    aria-labelledby="v-pills-5-tab">
                                                    <p>Pityful a rethoric question ran over her cheek, then she
                                                        continued her way. On her
                                                        way she met a
                                                        copy. The copy warned the Little Blind Text, that where it came
                                                        from it would have
                                                        been rewritten a
                                                        thousand times and everything that was left from its origin
                                                        would be the word "and"
                                                        and the Little
                                                        Blind Text should turn around and return to its own, safe
                                                        country.</p>

                                                    <p> But nothing the copy said could convince her and so it didnâ€™t
                                                        take long until a
                                                        few insidious Copy
                                                        Writers ambushed her, made her drunk with Longe and Parole and
                                                        dragged her into
                                                        their agency, where
                                                        they abused her for their</p>
                                                    <ul class="list-inline pull-right">
                                                        <li><button type="button"
                                                                class="btn  prev-step btn-primary">Previous</button>
                                                        </li>
                                                        <li><button type="button"
                                                                class="btn  next-step btn-primary">Save</button></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <%-include('../partials/footer.ejs')%>
            <div class="modal fade kk_modal_popup_form" id="exampleModal" style="display: none;" aria-hidden="true"
                data-keyboard="false" data-backdrop="static">
                <div class="modal-dialog ">
                    <div class="modal-content">

                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h4 class="modal-title mr-3">Default Value of <strong style="color: blue" id="dmodal-default"></strong></h4>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                        <form action="" method="POST" enctype="multipart/form-data">
                            <!-- Modal body -->
                            <div class="modal-body" id="dmodal-body">
                                <div class="form-group">
                                    <label class="form-label">Choose a value to assign in this field</label>

                                </div>

                                <div class="form-group">
                                    <div class="selectgroup w-100">
                                        <label class="selectgroup-item">
                                            <input type="radio" name="value" value="50" class="selectgroup-input"
                                                checked="">
                                            <span class="selectgroup-button">Provide default value</span>
                                        </label>
                                        <label class="selectgroup-item">
                                            <input type="radio" name="value" value="100" class="selectgroup-input">
                                            <span class="selectgroup-button">Set value to null</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="form-group text-center">
                                    <div class="selectgroup selectgroup-pills">
                                        <label class="selectgroup-item">
                                            <input type="radio" name="transportation" value="2"
                                                class="selectgroup-input">
                                            <span class="selectgroup-button selectgroup-button-icon">Yes</span>
                                        </label>
                                        <label class="selectgroup-item">
                                            <input type="radio" name="transportation" value="1"
                                                class="selectgroup-input">
                                            <span class="selectgroup-button selectgroup-button-icon">No</span>
                                        </label>

                                    </div>
                                </div>


                                <div class="form-group">
                                    <select class="form-control form-control" id="defaultSelect">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>
                                </div>


                                <div class="form-group">
                                    <select multiple="" class="form-control" id="exampleFormControlSelect2">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>
                                </div>


                            </div>

                            <!-- Modal footer -->
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-primary">Save</button>
                                <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <!--   Core JS Files   -->
    <script src="/assets/js/clientScript.js"></script>

    <!-- jQuery library -->
    <script src="/assets/js/core/jquery.3.2.1.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="/assets/js/core/bootstrap.js"></script>

    <!-- Atlantis JS -->
    <script src="/assets/js/atlantis.min.js"></script>
    <script src="/assets/js/iziToast.js"></script>
    <script src="/assets/js/flashMessage.js"></script>
    <!-- Datatables -->
    <script src="/assets/js/plugin/datatables/datatables.min.js"></script>
    <!-- Popper JS -->
    <script src="/assets/js/core/popper.min.js"></script>
    <!-- jQuery UI -->
    <script src="/assets/js/plugin/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
    <script src="/assets/js/plugin/jquery-ui-touch-punch/jquery.ui.touch-punch.min.js"></script>

    <!-- jQuery Scrollbar -->
    <script src="/assets/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js"></script>
    <script src="https://cdn.datatables.net/select/1.3.1/js/dataTables.select.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.16.2/xlsx.full.min.js"></script>
    <script src="/assets/js/importAssistant.js"></script>

</body>

</html>

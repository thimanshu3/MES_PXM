<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faculty</title>

    <link rel="stylesheet" href="/css/iziToast.min.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/spinner.css">
    <link rel="stylesheet" href="/css/cards.css">
    <link rel="shortcut icon" href="//www.ibm.com/favicon.ico" type="image/vnd.microsoft.icon">
</head>
<style>
    .badge-dot {
        text-indent: -999em;
        padding: 0;
        width: 8px;
        height: 8px;
        border: transparent solid 1px;
        border-radius: 30px;
        min-width: 2px;
    }

    .badge-dot-xl {
        width: 18px;
        height: 18px;
        position: relative;
    }

    .badge-dot-xl::before {
        content: '';
        width: 10px;
        height: 10px;
        border-radius: .25rem;
        position: absolute;
        left: 50%;
        top: 50%;
        margin: -5px 0 0 -5px;
        background: #fff;
    }

    .vertical-timeline {
        width: 100%;
        position: relative;
        padding: 1.5rem 0 1rem;
    }

    .vertical-timeline::after {
        content: '';
        display: table;
        clear: both;
    }

    .vertical-timeline::before {
        content: '';
        position: absolute;
        top: 0;
        left: 35%;
        height: 100%;
        width: 4px;
        background: #e9ecef;
        border-radius: .25rem;
    }

    .vertical-timeline-element {
        position: relative;
        margin: 0 0 1rem;
    }

    .vertical-timeline-element:after {
        content: "";
        display: table;
        clear: both;
    }

    .vertical-timeline-element:last-child {
        margin-bottom: 0;
    }

    .vertical-timeline-element-content {
        position: relative;
        margin-left: 40%;
        font-size: .8rem;
    }

    .vertical-timeline-element-content:after {
        content: "";
        display: table;
        clear: both;
    }

    .vertical-timeline-element-content .timeline-title {
        font-size: .8rem;
        text-transform: uppercase;
        margin: 0 0 .5rem;
        padding: 2px 0 0;
        font-weight: bold;
    }

    .vertical-timeline-element-content p {
        color: #6c757d;
        margin: 0 0 .5rem;
    }

    .vertical-timeline-element-content .vertical-timeline-element-date {
        display: block;
        position: absolute;
        left: -60%;
        top: 0;
        padding-right: 10px;
        text-align: right;
        color: #adb5bd;
        font-size: .7619rem;
        white-space: nowrap;
    }

    .vertical-timeline-element-icon {
        position: absolute;
        top: 0;
        left: 60px;
    }

    .vertical-timeline-element-icon .badge-dot-xl {
        box-shadow: 0 0 0 5px #fff;
    }

    .vertical-timeline--animate .vertical-timeline-element-icon.bounce-in {
        visibility: visible;
        animation: cd-bounce-1 .8s;
    }

    .vertical-timeline--animate .vertical-timeline-element-content.bounce-in {
        visibility: visible;
        -webkit-animation: cd-bounce-2 .6s;
        -moz-animation: cd-bounce-2 .6s;
        animation: cd-bounce-2 .6s;
    }

    @media only screen and (max-width: 1169px) {
        .vertical-timeline--animate .vertical-timeline-element-content.bounce-in {
            visibility: visible;
            -webkit-animation: cd-bounce-2-inverse .6s;
            -moz-animation: cd-bounce-2-inverse .6s;
            animation: cd-bounce-2-inverse .6s;
        }
    }

    /*! CSS Used keyframes */
    @-webkit-keyframes cd-bounce-1 {
        0% {
            opacity: 0;
            -webkit-transform: scale(0.5);
        }

        60% {
            opacity: 1;
            -webkit-transform: scale(1.2);
        }

        100% {
            -webkit-transform: scale(1);
        }
    }

    @-moz-keyframes cd-bounce-1 {
        0% {
            opacity: 0;
            -moz-transform: scale(0.5);
        }

        60% {
            opacity: 1;
            -moz-transform: scale(1.2);
        }

        100% {
            -moz-transform: scale(1);
        }
    }

    @keyframes cd-bounce-1 {
        0% {
            opacity: 0;
            -webkit-transform: scale(0.5);
            -moz-transform: scale(0.5);
            -ms-transform: scale(0.5);
            -o-transform: scale(0.5);
            transform: scale(0.5);
        }

        60% {
            opacity: 1;
            -webkit-transform: scale(1.2);
            -moz-transform: scale(1.2);
            -ms-transform: scale(1.2);
            -o-transform: scale(1.2);
            transform: scale(1.2);
        }

        100% {
            -webkit-transform: scale(1);
            -moz-transform: scale(1);
            -ms-transform: scale(1);
            -o-transform: scale(1);
            transform: scale(1);
        }
    }

    @-webkit-keyframes cd-bounce-2 {
        0% {
            opacity: 0;
            -webkit-transform: translateX(-100px);
        }

        60% {
            opacity: 1;
            -webkit-transform: translateX(20px);
        }

        100% {
            -webkit-transform: translateX(0);
        }
    }

    @-moz-keyframes cd-bounce-2 {
        0% {
            opacity: 0;
            -moz-transform: translateX(-100px);
        }

        60% {
            opacity: 1;
            -moz-transform: translateX(20px);
        }

        100% {
            -moz-transform: translateX(0);
        }
    }

    @keyframes cd-bounce-2 {
        0% {
            opacity: 0;
            -webkit-transform: translateX(-100px);
            -moz-transform: translateX(-100px);
            -ms-transform: translateX(-100px);
            -o-transform: translateX(-100px);
            transform: translateX(-100px);
        }

        60% {
            opacity: 1;
            -webkit-transform: translateX(20px);
            -moz-transform: translateX(20px);
            -ms-transform: translateX(20px);
            -o-transform: translateX(20px);
            transform: translateX(20px);
        }

        100% {
            -webkit-transform: translateX(0);
            -moz-transform: translateX(0);
            -ms-transform: translateX(0);
            -o-transform: translateX(0);
            transform: translateX(0);
        }
    }

    @-webkit-keyframes cd-bounce-2-inverse {
        0% {
            opacity: 0;
            -webkit-transform: translateX(100px);
        }

        60% {
            opacity: 1;
            -webkit-transform: translateX(-20px);
        }

        100% {
            -webkit-transform: translateX(0);
        }
    }

    @-moz-keyframes cd-bounce-2-inverse {
        0% {
            opacity: 0;
            -moz-transform: translateX(100px);
        }

        60% {
            opacity: 1;
            -moz-transform: translateX(-20px);
        }

        100% {
            -moz-transform: translateX(0);
        }
    }

    @keyframes cd-bounce-2-inverse {
        0% {
            opacity: 0;
            -webkit-transform: translateX(100px);
            -moz-transform: translateX(100px);
            -ms-transform: translateX(100px);
            -o-transform: translateX(100px);
            transform: translateX(100px);
        }

        60% {
            opacity: 1;
            -webkit-transform: translateX(-20px);
            -moz-transform: translateX(-20px);
            -ms-transform: translateX(-20px);
            -o-transform: translateX(-20px);
            transform: translateX(-20px);
        }

        100% {
            -webkit-transform: translateX(0);
            -moz-transform: translateX(0);
            -ms-transform: translateX(0);
            -o-transform: translateX(0);
            transform: translateX(0);
        }
    }
</style>

<body>

    <%-include('../partials/config')%>
    <div style="display: none;" id="facultyId"><%=faculty.id%></div>


    <div class="app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header">
        <!-- header/ navbar area -->
        <%-include('../partials/header.ejs')%>
        <!-- header/navbar area end -->

        <div class="app-main">
            <!-- side bar area -->
            <%-include('../partials/sidebar.ejs')%>
            <!-- sidebar area end -->
            <div class="app-main__outer">
                <div class="app-main__inner">
                    <div class="app-page-title">
                        <div class="page-title-wrapper">
                            <div class="page-title-heading">
                                <div class="page-title-icon">
                                    <i class="fas fa-user icon-gradient bg-mean-fruit">
                                    </i>
                                </div>
                                <div>User Details
                                    <div class="page-title-subheading">
                                        <div class="d-flex justify-content-center ">
                                            Manage this user or see details.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="page-title-actions">
                                <div class="d-inline-block">
                                    <button id="changeActive" type="button"
                                        class="btn-shadow  btn <%=faculty.active ? 'btn-success' : 'btn-danger'%>">
                                        <span class="btn-icon-wrapper pr-2 opacity-7">
                                            <i class="pe-7s-rocket" style="font-size: 1rem; color: #fff;"></i>
                                        </span>
                                        <span id="isActive"><%=faculty.active ? 'Active' : 'Inactive'%></span>
                                    </button>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="main-card  col-12">
                            <div class="mb-3 card">
                                <div class=" card-header">
                                    <ul class="nav nav-justified">
                                        <li class="nav-item">
                                            <a data-toggle="tab" href="#tab-eg-0" class="active nav-link">Faculty
                                                Details</a>
                                        </li>
                                        <li class="nav-item">
                                            <a data-toggle="tab" href="#tab-eg-1" class="nav-link">Specialization
                                                Details</a>
                                        </li>

                                    </ul>
                                </div>
                                <div class="card-body">
                                    <div class="tab-content">
                                        <div class="tab-pane active show" id="tab-eg-0" role="tabpanel">
                                            <div class="row">
                                                <div class="col-sm-12 col-md-4 col-xl-4">
                                                    <div
                                                        class="card-shadow-primary card-border text-dark mb-3 card bg-light">
                                                        <div class="dropdown-menu-header">
                                                            <div class="dropdown-menu-header-inner bg-light">
                                                                <div class="menu-header-content">
                                                                    <div
                                                                        class="avatar-icon-wrapper mb-3 avatar-icon-xl">
                                                                        <div class="avatar-icon"
                                                                            style="height: 100px; width: 100px; border-radius: 5px;">
                                                                            <img src="/uploads/userProfile/<%=faculty.profileImageSource%>"
                                                                                alt="Avatar 5"></div>
                                                                    </div>
                                                                    <div>
                                                                        <h5 class="menu-header-title text-dark">
                                                                            <%=faculty.firstName + ' ' + faculty.lastName%>
                                                                        </h5>
                                                                        <h6 class="menu-header-subtitle text-dark"
                                                                            style="font-size: 0.9rem;">
                                                                            <%=faculty.email%></h6>
                                                                        <h6 class="menu-header-subtitle text-dark"
                                                                            style="font-size: 0.9rem;">
                                                                            <%=faculty.contactNumber%></h6>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="text-center d-flex card-footer justify-content-center">
                                                            <a href="#" class="btn btn-sm btn-light p-0 ">
                                                                <img src="data:image/png;base64,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"
                                                                    style="width: 25px; height: 26px; " alt="">
                                                            </a>
                                                            <a href="#" class="btn btn-info p-0 btn-sm  ml-2">
                                                                <img style="width: 28px; height: 25px;"
                                                                    src="https://github.githubassets.com/images/modules/logos_page/Octocat.png"
                                                                    alt="">
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <p>Created At: <%=formatDateMoment(faculty.createdAt)%></p>
                                                    <p>Last Updated At: <%=formatDateMoment(faculty.updatedAt)%></p>
                                                    <p>Last Login At:
                                                        <%=lastLogin ? formatDateMoment(lastLogin) : 'N/A'%></p>
                                                </div>
                                                <div class="col-md-8 col-xl-8 col-sm-12">
                                                    <form id="updateFacultyForm" class="col-md-12 mx-auto">
                                                        <div class="form-row ">
                                                            <div class="form-group col-md-6">
                                                                <label for="firstName"> First
                                                                    name</label>
                                                                <div>
                                                                    <input type="text" class="form-control"
                                                                        name="firstName" id="firstName"
                                                                        value="<%=faculty.firstName%>" required>
                                                                </div>
                                                            </div>
                                                            <div class="form-group col-md-6">
                                                                <label for="lastName"> Last
                                                                    name</label>
                                                                <div>
                                                                    <input class="form-control" type="text"
                                                                        name="lastName" id="lastName"
                                                                        value="<%=faculty.lastName%>" required>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-row">
                                                            <div class="form-group col-md-6">
                                                                <label for="email"> Email</label>
                                                                <div>
                                                                    <input class="form-control" type="email"
                                                                        name="email" id="email"
                                                                        value="<%=faculty.email%>" required>
                                                                </div>
                                                            </div>
                                                            <div class="form-group col-md-6">
                                                                <label for="contactNumber"> Contact
                                                                    Number</label>
                                                                <div>
                                                                    <input class="form-control" type="tel"
                                                                        name="contactNumber" id="contactNumber"
                                                                        minlength="10" maxlength="10"
                                                                        value="<%=faculty.contactNumber%>" required>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-row">
                                                            <div class="form-group col-md-6">
                                                                <label for="college"> Select
                                                                    College</label>
                                                                <input class="form-control" type="text" name="college"
                                                                    id="college" value="<%=college.name%>" disabled>
                                                            </div>
                                                            <div class="form-group col-md-6">
                                                                <label for="specialization"> Select
                                                                    Specialization</label>
                                                                <select class="form-control" name="specialization"
                                                                    id="specialization">
                                                                    <%specializations.forEach(s => {%>
                                                                    <option value="<%=s.id%>"
                                                                        <%=faculty.specialization===s.id ? 'selected' : ' '%>>
                                                                        <%=s.name%></option>
                                                                    <%})%>
                                                                </select>
                                                            </div>

                                                        </div>
                                                        <div class="form-row">
                                                            <div class="form-group col-md-6">
                                                                <label for="gender"> Gender</label>
                                                                <div>
                                                                    <select class="form-control" name="gender"
                                                                        id="gender">
                                                                        <option value="male"
                                                                            <%=faculty.gender === 'male' ? 'selected' : ' '%>>
                                                                            Male</option>
                                                                        <option value="female"
                                                                            <%=faculty.gender === 'female' ? 'selected' : ' '%>>
                                                                            Female</option>
                                                                        <option value="other"
                                                                            <%=faculty.gender === 'other' ? 'selected' : ' '%>>
                                                                            Other</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-row">
                                                            <div class="form-group col-md-6">
                                                                <label for="alternateEmail">Alt Email</label>
                                                                <div>
                                                                    <input class="form-control" type="email"
                                                                        name="alternateEmail" id="alternateEmail"
                                                                        value="<%=faculty.alternateEmail%>">
                                                                </div>
                                                            </div>
                                                            <div class="form-group col-md-6">
                                                                <label for="githubUrl">Github Profile</label>
                                                                <div>
                                                                    <input type="url" name="githubUrl" id="githubUrl"
                                                                        class="form-control"
                                                                        value="<%=faculty.githubUrl%>">
                                                                </div>
                                                            </div>
                                                            <div class="form-group col-md-6">
                                                                <label for="linkedinUrl">Linkedin Profile</label>
                                                                <div>
                                                                    <input type="url" name="linkedinUrl"
                                                                        class="form-control" id="linkedinUrl"
                                                                        value="<%=faculty.linkedinUrl%>">
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div>
                                                            <div
                                                                class="card-footer form-group d-flex justify-content-end">
                                                                <button id="submitbtn" type="submit"
                                                                    class="btn btn-primary">Update
                                                                    Details</button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane" id="tab-eg-1" role="tabpanel">

                                            <% if(Object.keys(specializationsHistory).length === 0){ %>
                                            <div class="container-fluid">
                                                <article>
                                                    <div class="d-flex flex-row justify-content-center">
                                                        <img style="width: 250px;"
                                                            src="../../assets/images/undraw_empty.svg" alt="">
                                                    </div>
                                                    <br>
                                                    <div class="d-flex justify-content-center">
                                                        <h4 class=""> Unable to generate<span class="text-danger">
                                                                REPOERTS</span>
                                                            for
                                                            this faculty</h4>
                                                    </div>
                                                </article>
                                            </div>
                                            <%} else{%>
                                            <%                                             
                                             colors = ["g", "alternate", "info", "success", "primary", "warning", "dark", "secondary", "light"]; %>
                                            <div class="row">
                                                <div class="col-md-4 col-xl-4 col-lg-4">
                                                    <div class="row">
                                                        <div class="main-card">
                                                            <div class="card-body">
                                                                <h5 class="card-title text-center text-dark">
                                                                    Assigned Specializations
                                                                </h5>
                                                                <hr>
                                                                <div class="d-inline-block">
                                                                    <% specializationsHistory[`${Object.keys(specializationsHistory)[0]}`].forEach((element , i) => {%>
                                                                    <% i++ %>
                                                                    <span
                                                                        class="badge badge-<%= colors[i] %> mb-3 p-2"><%= element %>
                                                                    </span>
                                                                    <% }) %>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="main-card">
                                                            <div class="card-body">
                                                                <h5 class="card-title text-center text-dark">
                                                                    Assigned Semesters
                                                                </h5>
                                                                <hr>
                                                                <div class="d-inline-block">
                                                                    <% semestersHistory[`${Object.keys(semestersHistory)[0]}`].forEach((element , i) => {%>
                                                                    <% i++ %>
                                                                    <span
                                                                        class="badge badge-<%= colors[i] %> mb-3"><%= element %>
                                                                    </span>
                                                                    <% }) %>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-8 col-lg-8 col-xl-8">
                                                    <div class="main-card border">
                                                        <div class="card-body">
                                                            <h5 class="card-title text-center text-dark">Faculty track
                                                                assign
                                                                Timeline
                                                            </h5>
                                                            <hr>
                                                            <div class="scroll-area-md">
                                                                <div class="scrollbar-container ps ps--active-y">
                                                                    <div
                                                                        class="vertical-timeline vertical-timeline--animate vertical-timeline--one-column">
                                                                        <div
                                                                            class="vertical-timeline-item vertical-timeline-element">
                                                                            <% Object.keys(specializationsHistory).forEach(s => { %>
                                                                            <div>
                                                                                <div
                                                                                    class="vertical-timeline-element-content bounce-in">
                                                                                    <div class="row">
                                                                                        <div class="card col-11">
                                                                                            <div
                                                                                                class="text-center card-header">
                                                                                                <span
                                                                                                    class="card-title text-center">
                                                                                                    Specialization
                                                                                                </span>
                                                                                            </div>
                                                                                            <div class="card-body">
                                                                                                <% specializationsHistory[`${s}`].forEach((element , index) => { %>
                                                                                                <% index++ %>
                                                                                                <span
                                                                                                    class="badge badge-<%= colors[index] %> mb-3 p-2"><%= element %>
                                                                                                </span>
                                                                                                <%  }); %>
                                                                                            </div>
                                                                                        </div>
                                                                                        <hr>
                                                                                        <div class="card">
                                                                                            <div class="card-header">
                                                                                                <h4 class="card-title">
                                                                                                    Semesters
                                                                                                </h4>
                                                                                            </div>
                                                                                            <div class="card-body">
                                                                                                <% semestersHistory[`${s}`].forEach(element => { %>
                                                                                                <span
                                                                                                    class="badge badge-<%= colors[element] %> mb-3"
                                                                                                    style="font-size: 13px;"><%= element %>
                                                                                                </span>
                                                                                                <%  }); %>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <span
                                                                                        class="text-primary vertical-timeline-element-date">
                                                                                        <%= formatDateMoment(s) %>
                                                                                    </span>
                                                                                </div>
                                                                                <hr>
                                                                            </div>
                                                                            <% });%>
                                                                        </div>
                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <% } %>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="/js/main.js"></script>
    <script src="/js/jquery.min.js"></script>
    <script src="/js/iziToast.min.js"></script>
    <script src="/js/flashMessage.js"></script>

    <script>
        let p = '<%- JSON.stringify(specializationsHistory) %>'
        Object.keys(JSON.parse(p)).forEach(s => {

        })

        $('#updateFacultyForm').submit(e => {
            e.preventDefault()
            const { firstName, lastName, email, contactNumber, specialization, gender, alternateEmail, githubUrl, linkedinUrl } = e.currentTarget.elements

            fetch(`/admin/user/${$('#facultyId').text()}`, {
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    firstName: firstName.value,
                    lastName: lastName.value,
                    email: email.value,
                    contactNumber: contactNumber.value,
                    specialization: specialization.value,
                    gender: gender.value,
                    alternateEmail: alternateEmail.value,
                    githubUrl: githubUrl.value,
                    linkedinUrl: linkedinUrl.value
                })
            })
                .then(res => res.json())
                .then(json => {
                    if (json.status == 200)
                        iziToast.success({
                            message: json.message
                        })
                    else
                        iziToast.error({
                            message: json.message
                        })
                })
        })

        $('#changeActive').click(() => {
            fetch(`/admin/user/${$('#facultyId').text()}`, {
                method: 'DELETE'
            })
                .then(res => res.json())
                .then(json => {
                    if (json.status === 200) {
                        iziToast.info({
                            message: json.message
                        })
                        $('#isActive').text(json.active ? 'Active' : 'Inactive')
                        document.querySelector('#changeActive').classList.remove('btn-success')
                        document.querySelector('#changeActive').classList.remove('btn-danger')
                        document.querySelector('#changeActive').classList.add(json.active ? 'btn-success' : 'btn-danger')
                    } else {
                        iziToast.error({
                            message: json.message
                        })
                    }
                })
                .catch(err => {
                    console.log(err)
                })
        })
    </script>

</body>

</html>